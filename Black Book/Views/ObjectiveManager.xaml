<UserControl x:Class="BlackBook.Views.ObjectiveManager"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:conv="clr-namespace:BlackBook.Converters"
             FontFamily="Verdana">

    <UserControl.Resources>
        <conv:PriorityToBrushConverter x:Key="PriorityBrushConverter"/>
    </UserControl.Resources>

    <Grid Margin="10">
        <ListView x:Name="ObjectivesList"
                  ItemsSource="{Binding Objectives}">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <StackPanel Margin="4">
                        <!-- Objective Title -->
                        <TextBlock FontWeight="Bold" FontSize="14"
                                   Text="{Binding Title}" />

                        <!-- GUID (greyed-out) -->
                        <TextBlock FontSize="10" Foreground="#888888"
                                   Text="{Binding Id}" Margin="0,2,0,4"/>

                        <!-- Importance Dot, Situation Name, Dates -->
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <Ellipse Width="8" Height="8" Margin="0,0,6,0" VerticalAlignment="Center"
                                     Fill="{Binding Importance, Converter={StaticResource PriorityBrushConverter}}"/>
                            <TextBlock FontWeight="SemiBold" VerticalAlignment="Center"
                                       Text="{Binding SituationId, Converter={StaticResource SituationIdToNameConverter}}"/>
                            <TextBlock VerticalAlignment="Center" Margin="12,0,0,0"
                                       Text="{Binding Created, StringFormat='{}{0:yyyy-MM-dd}'}"/>
                            <TextBlock VerticalAlignment="Center" Margin="4,0,0,0" Text="→"/>
                            <TextBlock VerticalAlignment="Center" Margin="4,0,0,0"
                                       Text="{Binding DueDate, TargetNullValue='?'}"/>
                        </StackPanel>
                    </StackPanel>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
    </Grid>
</UserControl>
