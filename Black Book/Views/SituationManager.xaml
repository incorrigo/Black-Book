<!-- INCORRIGO SYX DIGITAL COMMUNICATION SYSTEMS
	2025-06-26 [Thursday]
	[BlackBook/SituationManager.xaml] -->

<UserControl x:Class="BlackBook.Views.SituationManager"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Margin="8">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="2*"/>
        </Grid.ColumnDefinitions>

        <ListView x:Name="SituationsList"
				  ItemsSource="{Binding Situations}"
				  Grid.Column="0">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                        <Ellipse Width="8" Height="8" Margin="0 0 6 0"
								 Fill="{Binding Status,
										Converter={StaticResource StatusBrushConverter}}"/>
                        <TextBlock Text="{Binding Title}"/>
                    </StackPanel>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>

        <Border Grid.Column="1" Padding="12" BorderBrush="#444" BorderThickness="1">
            <ListBox ItemsSource="{Binding ElementName=SituationsList,Path=SelectedItem.Interactions}">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel>
                            <TextBlock FontWeight="Bold"
									   Text="{Binding Date,StringFormat={}{0:yyyy-MM-dd [ddd]}}"/>
                            <TextBlock Text="{Binding Summary}"/>
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Border>
    </Grid>
</UserControl>
